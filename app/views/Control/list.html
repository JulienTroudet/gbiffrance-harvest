#{extends 'main.html' /} #{set title:'Liste des controles' /}

<div id="modal">
	<div class="modal-header">
		<h3>Controls list</h3>
		<br/>
	</div>
	<div id="main">
		
		<div id="control_table">
			<table class="table table-striped table-condensed" id="control_table">
				<thead>
				#{form @Control.list(name, order)}
					<tr>
						<th>&nbsp;</th>
						<th><a class="icon-circle-arrow-up" href="@{Control.list('name', 'ASC')}"></a><a class="icon-circle-arrow-down" href="@{Control.list('name', 'DESC')}"></a>Nom</th>
						<th><a class="icon-circle-arrow-up" href="@{Control.list('description', 'ASC')}"></a><a class="icon-circle-arrow-down" href="@{Control.list('description', 'DESC')}"></a>Description</th>
					</tr>
					<th>&nbsp;</th>
					<th><input type="search" id="name" name="name" value="${name}" placeholder="Filtrer par nom"/><button class="btn btn-search" type="submit">OK</button></th>
					<th></th>
				#{/form}
				</thead>
				<tbody>
					#{paginate.list items:paginator, as:'control'}
						<tr class="table">
							<td><a href="@{Control.delete(control.id)}"><i
									title="Delete control" class="icon-remove"></i></a>
							</td>
							<td class="table" id="control_name">
								<a id="edit_control" href="@{Control.edit(control.id)}">
									<strong>${control.name}</strong>
								</a>
							</td>
							<td class="table" id="control_description">
								<strong>${control.description}</strong>
							</td>
						</tr>
					#{/paginate.list}
				</tbody>
			</table>
			#{paginate.controls items:paginator /} 
		</div>
		
	</div>
</div>
